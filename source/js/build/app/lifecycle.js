const o=[],n=[],t=[];let e=!1,i=!1;const runCallbacks=(o,n)=>{o.forEach(o=>{try{o(n)}catch(o){console.error("Lifecycle callback failed:",o)}})},fireReady=()=>{e||(e=!0,runCallbacks(o),runCallbacks(n,{initial:!0}))},bindSwup=o=>{!i&&o&&o.hooks&&(i=!0,o.hooks.on("page:view",o=>{runCallbacks(n,o)}),o.hooks.on("visit:start",o=>{runCallbacks(t,o)}))},handleSwupReady=o=>{const n=window.swup||o?.detail?.swup;bindSwup(n)};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",fireReady,{once:!0}):fireReady(),window.swup&&window.swup.hooks?bindSwup(window.swup):window.addEventListener("redefine:swup:ready",handleSwupReady,{once:!0});export const onReady=n=>{"function"==typeof n&&(e?n():o.push(n))};export const onPageView=o=>{"function"==typeof o&&(n.push(o),e&&o({initial:!0}))};export const onVisitStart=o=>{"function"==typeof o&&t.push(o)};
//# sourceMappingURL=lifecycle.js.map