{"version":3,"file":"localSearch.js","names":["isFetched","cachedData","cachedPath","isXml","didInit","warnedMissing","ensureSearchPath","configPath","config","path","searchPath","length","endsWith","resolveSearchPath","fetchData","fetch","root","then","response","text","res","DOMParser","parseFromString","querySelectorAll","map","element","title","querySelector","textContent","content","url","JSON","parse","filter","data","trim","replace","decodeURIComponent","noResultDom","document","innerHTML","catch","error","console","getSearchDom","searchInputDom","resultContent","getElementById","overlay","closePopup","body","style","overflow","classList","remove","getIndexByWord","word","caseSensitive","wordLen","startPosition","position","index","toLowerCase","indexOf","push","mergeIntoSlice","start","end","searchText","currentItem","hits","searchTextCountInSlice","wordEnd","pop","i","searchTextCount","highlightKeyword","slice","result","prevEnd","forEach","hit","substring","renderSearchResult","value","keywords","split","resultItems","titleInLowerCase","contentInLowerCase","indexOfTitle","indexOfContent","keyword","concat","hitCount","sort","itemLeft","itemRight","slicesOfTitle","tmp","slicesOfContent","item","sliceLeft","sliceRight","upperBound","parseInt","theme","navbar","search","top_n_per_article","resultItem","id","resultLeft","resultRight","searchResultList","window","pjax","refresh","handleInput","event","target","matches","handleClick","closest","add","setTimeout","focus","openPopup","handleKeyup","key","initLocalSearchGlobals","signal","addEventListener","warn","initLocalSearchPage","preload"],"sources":["0"],"mappings":"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","ignoreList":[]}