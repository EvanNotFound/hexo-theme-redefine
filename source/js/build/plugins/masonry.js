const e=new WeakSet;export default function initMasonry({signal:n}={}){const t=document.querySelector(".loading-placeholder"),o=document.querySelector("#masonry-container");if(!t||!o)return;if(e.has(o))return;if(e.add(o),"undefined"==typeof MiniMasonry)return void console.error("MiniMasonry is not available.");t.style.display="block",o.style.display="none";const i=document.querySelectorAll("#masonry-container .masonry-item img");let r=0;const initializeMasonryLayout=()=>{t.style.opacity=0,setTimeout((()=>{t.style.display="none",o.style.display="block";const e=window.innerWidth;new MiniMasonry({baseWidth:e>=768?255:150,container:o,gutterX:10,gutterY:10,surroundingGutter:!1}).layout(),o.style.opacity=1}),100)},onImageLoad=()=>{r+=1,r===i.length&&initializeMasonryLayout()};i.forEach((e=>{e.complete?onImageLoad():n?e.addEventListener("load",onImageLoad,{signal:n}):e.addEventListener("load",onImageLoad)})),r===i.length&&initializeMasonryLayout()}
//# sourceMappingURL=masonry.js.map